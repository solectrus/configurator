##################################################################
###                          Generic                           ###
##################################################################

TZ=Europe/Berlin

##################################################################
###                   Dashboard application                    ###
##################################################################

# Domain name or IP address of your host
APP_HOST=192.168.178.60

# Date of commissioning of your photovoltaic system
INSTALLATION_DATE=2024-02-01

# Password to login as administrator, required to manage settings like historical prices
ADMIN_PASSWORD=admin-password

# Interval in seconds for polling the InfluxDB
INFLUX_POLL_INTERVAL=5

# SSL redirect: Use "true" if you want to auto-redirect to https, but ensure that you have a valid SSL certificate
# and a reverse proxy in front of the app!
# In all other cases, the option must be "false"!
FORCE_SSL=false

# Secret token to secure cookies, 128 chars long hexadecimal encoded string
SECRET_KEY_BASE=0ada8701dbd61c233ac51c1d6530eb69cc0d3a58ee4440faf1ef9aabcf3add4b44f3cd2256c040719008b0a6e57b6d4140508867b9235c147d89ca0159471b37

# Start web server Puma in single mode (recommended to reduce memory usage)
WEB_CONCURRENCY=0

# Optional: Allow iframe embedding
# FRAME_ANCESTORS=https://my-other-home-automation-software.com

# Optional: Set factor to calculate CO2 emissions (default: 401 g/kWh)
# CO2_EMISSION_FACTOR=500

# Password for the PostgreSQL database, used by the app to communicate internally with the database
# Caution: Do not change this after the first run, otherwise the app will no longer be able to connect to the database!
POSTGRES_PASSWORD=my-secret-db-password

##################################################################
###                      Sensor mapping                        ###
##################################################################

# Where to find the data in the InfluxDB
# Each sensor must be mapped to a measurement and a field
# The format is: INFLUX_SENSOR_NAME=MEASUREMENT:FIELD
# Example: INFLUX_SENSOR_INVERTER_POWER=my_pv:inverter_power

INFLUX_SENSOR_INVERTER_POWER=inverter:power
INFLUX_SENSOR_INVERTER_POWER_1=inverter_1:power
INFLUX_SENSOR_INVERTER_POWER_2=inverter_2:power
INFLUX_SENSOR_INVERTER_POWER_3=inverter_3:power
INFLUX_SENSOR_INVERTER_POWER_4=inverter_4:power
INFLUX_SENSOR_INVERTER_POWER_5=inverter_5:power
INFLUX_SENSOR_HOUSE_POWER=house:power
INFLUX_SENSOR_CUSTOM_POWER_01=custom_01:power
INFLUX_SENSOR_CUSTOM_POWER_02=custom_02:power
INFLUX_SENSOR_CUSTOM_POWER_03=custom_03:power
INFLUX_SENSOR_CUSTOM_POWER_04=custom_04:power
INFLUX_SENSOR_CUSTOM_POWER_05=custom_05:power
INFLUX_SENSOR_CUSTOM_POWER_06=custom_06:power
INFLUX_SENSOR_CUSTOM_POWER_07=custom_07:power
INFLUX_SENSOR_CUSTOM_POWER_08=custom_08:power
INFLUX_SENSOR_CUSTOM_POWER_09=custom_09:power
INFLUX_SENSOR_CUSTOM_POWER_10=custom_10:power
INFLUX_SENSOR_CUSTOM_POWER_11=custom_11:power
INFLUX_SENSOR_CUSTOM_POWER_12=custom_12:power
INFLUX_SENSOR_CUSTOM_POWER_13=custom_13:power
INFLUX_SENSOR_CUSTOM_POWER_14=custom_14:power
INFLUX_SENSOR_CUSTOM_POWER_15=custom_15:power
INFLUX_SENSOR_CUSTOM_POWER_16=custom_16:power
INFLUX_SENSOR_CUSTOM_POWER_17=custom_17:power
INFLUX_SENSOR_CUSTOM_POWER_18=custom_18:power
INFLUX_SENSOR_CUSTOM_POWER_19=custom_19:power
INFLUX_SENSOR_CUSTOM_POWER_20=custom_20:power
INFLUX_SENSOR_GRID_IMPORT_POWER=grid:import_power
INFLUX_SENSOR_GRID_EXPORT_POWER=grid:export_power
INFLUX_SENSOR_BATTERY_CHARGING_POWER=battery:charging_power
INFLUX_SENSOR_BATTERY_DISCHARGING_POWER=battery:discharging_power
INFLUX_SENSOR_BATTERY_SOC=battery:soc
INFLUX_SENSOR_WALLBOX_POWER=wallbox:power
INFLUX_SENSOR_WALLBOX_CAR_CONNECTED=wallbox:connected
INFLUX_SENSOR_CASE_TEMP=case:temperature
INFLUX_SENSOR_SYSTEM_STATUS=system:status
INFLUX_SENSOR_SYSTEM_STATUS_OK=system:status_ok
INFLUX_SENSOR_GRID_EXPORT_LIMIT=grid:export_limit
INFLUX_SENSOR_INVERTER_POWER_FORECAST=inverter_forecast:power
INFLUX_SENSOR_INVERTER_POWER_FORECAST_CLEARSKY=inverter_forecast_clearsky:power
INFLUX_SENSOR_CAR_BATTERY_SOC=car:battery_soc
INFLUX_SENSOR_OUTDOOR_TEMP=outdoor:temperature
INFLUX_SENSOR_OUTDOOR_TEMP_FORECAST=outdoor_forecast:temperature
INFLUX_SENSOR_HEATPUMP_POWER=heatpump:power
INFLUX_SENSOR_HEATPUMP_HEATING_POWER=heatpump:heating_power
INFLUX_SENSOR_HEATPUMP_TANK_TEMP=heatpump:tank_temp
INFLUX_SENSOR_HEATPUMP_STATUS=heatpump:status

# Optional: Exclude sensors from house power calculation
# Default is HEATPUMP_POWER (if defined)
# INFLUX_EXCLUDE_FROM_HOUSE_POWER=HEATPUMP_POWER,WALLBOX_POWER

##################################################################
###                       Power Splitter                       ###
##################################################################

# Interval in seconds to run the calculation (default: 3600, min: 300)
# POWER_SPLITTER_INTERVAL=3600

##################################################################
###                     Forecast collector                     ###
##################################################################

FORECAST_PROVIDER=solcast

# Number of planes (if you have more than one). Default is 1. Forecast.solar allows up to 4 planes, Solcast up to 2.
FORECAST_CONFIGURATIONS=2

# Update interval in seconds
FORECAST_INTERVAL=17280

# Measurement name for InfluxDB
INFLUX_MEASUREMENT_FORECAST=Forecast

### Details for forecast.solar
# API docs: https://doc.forecast.solar/doku.php?id=api:estimate

# Latitude of the plant location
# FORECAST_LATITUDE=50.12345

# Longitude of the plant location
# FORECAST_LONGITUDE=6.12345

# Plane declination: 0 (horizontal) - 90 (vertical)
# FORECAST_DECLINATION=30

# Plane azimuth: -180 ... 180 (-180 = north, -90 = east, 0 = south, 90 = west, 180 = north)
# FORECAST_AZIMUTH=20

# Installed modules power in kilowatt peak (kWp)
# FORECAST_KWP=8.4

# Optional damping factors (http://doc.forecast.solar/damping)
# FORECAST_DAMPING_MORNING=0.5
# FORECAST_DAMPING_EVENING=0
#
# Optional configuration for multiple planes
#
# Starting from 0, add params different from the values defined above
# FORECAST_0_DECLINATION=35
# FORECAST_0_AZIMUTH=-180
# FORECAST_0_KWP=5.32
#
# FORECAST_1_DECLINATION=38
# FORECAST_1_AZIMUTH=-90
# FORECAST_1_KWP=5.32
#
# FORECAST_2_DECLINATION=50
# FORECAST_2_AZIMUTH=0
# FORECAST_2_KWP=7.84
#
# FORECAST_3_DECLINATION=50
# FORECAST_3_AZIMUTH=90
# FORECAST_3_KWP=2.58
#
# Available params are:
# - FORECAST_x_LATITUDE
# - FORECAST_x_LONGITUDE
# - FORECAST_x_DECLINATION
# - FORECAST_x_AZIMUTH
# - FORECAST_x_KWP
# - FORECAST_x_DAMPING_MORNING
# - FORECAST_x_DAMPING_EVENING

# Optional API key for registered users of forecast.solar (https://doc.forecast.solar/account_models)
# FORECAST_SOLAR_APIKEY=abc123

### Details for solcast.com

SOLCAST_APIKEY=my-solcast-api-key
SOLCAST_SITE=1111-2222-3333-4444

SOLCAST_0_SITE=1234-5678-9012-3456
SOLCAST_1_SITE=abcd-efgh-ijkl-mnop

##################################################################
###                 InfluxDB time series database              ###
##################################################################

# InfluxDB host
INFLUX_HOST=influxdb

# InfluxDB schema (http or https)
INFLUX_SCHEMA=http

# InfluxDB port
INFLUX_PORT=8086

# Volume path for storing the InfluxDB data
INFLUX_VOLUME_PATH=/volume1/docker/solectrus/influxdb

##################################################################
###                                                            ###
###  IMPORTANT: Set these values BEFORE first run!             ###
###                                                            ###
###  They will be stored in the database and cannot be         ###
###  changed later without breaking access to historical       ###
###  data.                                                     ###
###                                                            ###
##################################################################

### Organization name
INFLUX_ORG=solectrus

### Bucket name for storing time series data
INFLUX_BUCKET=solectrus

### Initial admin username (for InfluxDB UI login)
INFLUX_USERNAME=admin

### Initial admin password (for InfluxDB UI login)
INFLUX_PASSWORD=ExAmPl3PA55W0rD

### Admin token for API access
INFLUX_ADMIN_TOKEN=my-super-secret-admin-token

##################################################################
###  END OF CRITICAL CONFIGURATION                             ###
##################################################################

# Tokens for write and read access - can be changed anytime!
# Default: Both use INFLUX_ADMIN_TOKEN (simple, sufficient for local/internal use)
# Recommended for public access: Create separate tokens in InfluxDB UI for better security
INFLUX_TOKEN_WRITE=my-super-secret-admin-token
INFLUX_TOKEN_READ=my-super-secret-admin-token

##################################################################
###                    PostgreSQL database                     ###
##################################################################

# Volume path for storing the PostgreSQL data
DB_VOLUME_PATH=/volume1/docker/solectrus/postgresql

##################################################################
###                 Redis in-memory database                   ###
##################################################################

# Volume path for storing the database snapshot
REDIS_VOLUME_PATH=/volume1/docker/solectrus/redis

# URL of the Redis database
REDIS_URL=redis://redis:6379/1

##################################################################
###                      Backup to AWS S3                      ###
##################################################################

# Bucket name
AWS_BUCKET=my-backup-bucket

# AWS credentials
AWS_ACCESS_KEY_ID=aws-key
AWS_SECRET_ACCESS_KEY=aws-secret

# S3 region
AWS_REGION=eu-central-1


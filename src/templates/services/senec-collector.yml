image: ghcr.io/solectrus/senec-collector:latest
labels:
  - 'com.centurylinklabs.watchtower.scope=solectrus'
depends_on:
  influxdb:
    condition: service_healthy
links:
  - influxdb
environment:
  - SENEC_HOST
  - SENEC_SCHEMA
  - SENEC_INTERVAL
  - SENEC_LANGUAGE
  - INFLUX_HOST
  - INFLUX_SCHEMA
  - INFLUX_PORT
  - INFLUX_TOKEN=${INFLUX_TOKEN_WRITE}
  - INFLUX_ORG
  - INFLUX_BUCKET
  - INFLUX_MEASUREMENT=${INFLUX_MEASUREMENT_PV}
restart: always
logging:
  options:
    max-size: '10m'
    max-file: '3'

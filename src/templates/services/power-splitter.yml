image: ghcr.io/solectrus/power-splitter:latest
environment:
  - TZ
  - INSTALLATION_DATE
  - INFLUX_HOST
  - INFLUX_SCHEMA
  - INFLUX_PORT
  - INFLUX_TOKEN=${INFLUX_ADMIN_TOKEN}
  - INFLUX_ORG
  - INFLUX_BUCKET
  - INFLUX_SENSOR_HOUSE_POWER
  - INFLUX_SENSOR_GRID_IMPORT_POWER
  - INFLUX_SENSOR_WALLBOX_POWER
  - INFLUX_SENSOR_HEATPUMP_POWER
  - INFLUX_SENSOR_BATTERY_CHARGING_POWER
  - INFLUX_SENSOR_CUSTOM_POWER_01
  - INFLUX_SENSOR_CUSTOM_POWER_02
  - INFLUX_SENSOR_CUSTOM_POWER_03
  - INFLUX_SENSOR_CUSTOM_POWER_04
  - INFLUX_SENSOR_CUSTOM_POWER_05
  - INFLUX_SENSOR_CUSTOM_POWER_06
  - INFLUX_SENSOR_CUSTOM_POWER_07
  - INFLUX_SENSOR_CUSTOM_POWER_08
  - INFLUX_SENSOR_CUSTOM_POWER_09
  - INFLUX_SENSOR_CUSTOM_POWER_10
  - INFLUX_SENSOR_CUSTOM_POWER_11
  - INFLUX_SENSOR_CUSTOM_POWER_12
  - INFLUX_SENSOR_CUSTOM_POWER_13
  - INFLUX_SENSOR_CUSTOM_POWER_14
  - INFLUX_SENSOR_CUSTOM_POWER_15
  - INFLUX_SENSOR_CUSTOM_POWER_16
  - INFLUX_SENSOR_CUSTOM_POWER_17
  - INFLUX_SENSOR_CUSTOM_POWER_18
  - INFLUX_SENSOR_CUSTOM_POWER_19
  - INFLUX_SENSOR_CUSTOM_POWER_20
  - INFLUX_EXCLUDE_FROM_HOUSE_POWER
  - REDIS_URL
  - POWER_SPLITTER_INTERVAL
logging:
  driver: json-file
  options:
    max-size: '10m'
    max-file: '3'
restart: unless-stopped

{
  "locale": "de",
  "title": {
    "de": "Konfigurator",
    "default": "SOLECTRUS configurator"
  },
  "description": {
    "de": "In einfachen Schritten zur Docker-Konfiguration",
    "default": "Create your SOLECTRUS installation step-by-step"
  },
  "logoWidth": "100px",
  "logoHeight": "100px",
  "logoPosition": "right",
  "pages": [
    {
      "name": "p_devices",
      "elements": [
        {
          "type": "checkbox",
          "name": "devices",
          "title": {
            "de": "Welche Geräte möchtest du mit SOLECTRUS überwachen?",
            "default": "Which devices do you want to monitor with SOLECTRUS?"
          },
          "defaultValue": ["inverter"],
          "isRequired": true,
          "validators": [
            {
              "type": "expression",
              "text": {
                "de": "Ein Solarwechselrichter muss beteiligt sein",
                "default": "A solar inverter must be involved"
              },
              "expression": "{devices} contains 'inverter'"
            }
          ],
          "choices": [
            {
              "value": "inverter",
              "text": {
                "default": "Solar inverter",
                "de": "Solarwechselrichter"
              }
            },
            {
              "value": "battery",
              "text": {
                "de": "Stromspeicher",
                "default": "Battery"
              }
            },
            {
              "value": "wallbox",
              "text": "Wallbox"
            },
            {
              "value": "heatpump",
              "text": {
                "de": "Wärmepumpe",
                "default": "Heat pump"
              }
            }
          ]
        }
      ],
      "title": {
        "de": "Deine Photovoltaik-Anlage",
        "default": "Your photovoltaic system"
      }
    },
    {
      "name": "p_battery",
      "elements": [
        {
          "type": "radiogroup",
          "name": "battery_vendor",
          "visibleIf": "{devices} contains 'battery'",
          "title": {
            "de": "Welchen Stromspeicher hast du?",
            "default": "Which manufacturer is your storage system from?"
          },
          "isRequired": true,
          "choices": [
            {
              "value": "senec3",
              "text": {
                "default": "SENEC.Home V3 or V2.1",
                "de": "SENEC.Home V3 oder v2.1"
              }
            },
            {
              "value": "senec4",
              "text": "SENEC.Home 4"
            },
            {
              "value": "other",
              "text": {
                "de": "Anderer (Messwerte per MQTT)",
                "default": "Other (data via MQTT)"
              }
            }
          ],
          "separateSpecialChoices": true,
          "otherText": {
            "de": "Sonstiges",
            "default": "Other"
          }
        }
      ],
      "title": {
        "de": "Stromspeicher",
        "default": "Battery vendor"
      }
    },
    {
      "name": "p_heatpump",
      "elements": [
        {
          "type": "radiogroup",
          "name": "heatpump_access",
          "visibleIf": "{devices} contains 'heatpump'",
          "title": {
            "de": "Wie wird der Stromverbrauch der Wärmepumpe gemessen?",
            "default": "How is the electricity consumption of the heat pump measured?"
          },
          "isRequired": true,
          "choices": [
            {
              "value": "shelly",
              "text": {
                "de": "Über einen Shelly Stromzähler",
                "default": "Using Shelly energy monitor"
              }
            },
            {
              "value": "mqtt",
              "text": {
                "de": "Über MQTT",
                "default": "Via MQTT"
              }
            }
          ]
        }
      ],
      "title": {
        "de": "Wärmepumpe",
        "default": "Integration of heat pump"
      }
    },
    {
      "name": "p_wallbox",
      "elements": [
        {
          "type": "radiogroup",
          "name": "wallbox_vendor",
          "visibleIf": "{devices} contains 'wallbox'",
          "title": {
            "de": "Von welchem Hersteller ist deine Wallbox?",
            "default": "Which manufacturer is your wallbox from?"
          },
          "isRequired": true,
          "choices": [
            {
              "value": "senec",
              "text": {
                "de": "SENEC (gesteuert vom Stromspeicher)",
                "default": "SENEC (controlled by the battery)"
              },
              "enableIf": "{devices} contains 'battery' and {battery_vendor} anyof ['senec3', 'senec4']"
            },
            {
              "value": "other",
              "text": {
                "default": "Other (data via MQTT)",
                "de": "Anderer (Messwerte per MQTT)"
              }
            }
          ]
        }
      ],
      "title": {
        "de": "Wallbox",
        "default": "Vendor Wallbox"
      }
    },
    {
      "name": "p_mode",
      "elements": [
        {
          "type": "radiogroup",
          "name": "installation_type",
          "title": {
            "de": "Wie möchtest du SOLECTRUS betreiben?",
            "default": "How would you like to operate SOLECTRUS?"
          },
          "isRequired": true,
          "choices": [
            {
              "value": "local",
              "text": {
                "de": "Lokal: Alle Komponenten auf einem Raspberry Pi, NAS etc.",
                "default": "Local: All components on a Raspberry, NAS etc."
              }
            },
            {
              "value": "cloud",
              "text": {
                "de": "Cloud: Alle Komponenten auf einem Cloud-Server",
                "default": "Cloud: All components on a cloud server"
              },
              "visibleIf": "{battery_vendor} anyof ['senec3', 'senec4'] and {devices} contains 'heatpump' and {wallbox_vendor} <> 'other'"
            },
            {
              "value": "distributed",
              "text": {
                "de": "Verteilt: Lokale Messwerterfassung, Server in der Cloud",
                "default": "Distributed: Local measurement, server in the cloud"
              },
              "visibleIf": "{battery_vendor} anyof ['other', 'senec3'] or {wallbox_vendor} = 'other' or {devices} contains 'heatpump' or {devices} = ['inverter']"
            }
          ]
        }
      ],
      "title": {
        "de": "Betriebsart",
        "default": "SOLECTRUS operating mode"
      }
    },
    {
      "name": "p_distributed_installation",
      "elements": [
        {
          "type": "radiogroup",
          "name": "distributed_choice",
          "title": {
            "de": "Welchen Teil der Installation möchtest du jetzt angehen?",
            "default": "Which part of the installation do you want to tackle now?"
          },
          "description": {
            "de": "Es sind zwei Installationen erforderlich. Welchen Teil erledigen wir jetzt?",
            "default": "Two installations are required. Which part do we do now?"
          },
          "choices": [
            {
              "value": "local",
              "text": {
                "de": "Die lokale Installation auf Raspberry Pi, NAS etc.",
                "default": "The local installation on Raspberry Pi, NAS etc."
              }
            },
            {
              "value": "cloud",
              "text": {
                "de": "Die Installation auf dem Cloud-Server",
                "default": "The installation on the cloud server"
              }
            }
          ]
        }
      ],
      "visibleIf": "{installation_type} = 'distributed'",
      "title": {
        "de": "Verteilte Installation",
        "default": "Distributed installation"
      }
    },
    {
      "name": "p_senec3",
      "elements": [
        {
          "type": "text",
          "name": "senec_host",
          "title": {
            "de": "Lokale IP-Adresse oder Hostname",
            "default": "Local IP address or host name"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "senec_interval",
          "title": {
            "de": "Abfrage-Intervall",
            "default": "Query interval"
          },
          "description": {
            "de": "in Sekunden",
            "default": "in seconds"
          },
          "defaultValue": 5,
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "radiogroup",
          "name": "senec_schema",
          "title": {
            "de": "Zugriffsprotokoll",
            "default": "Protocol schema"
          },
          "defaultValue": "https",
          "isRequired": true,
          "choices": ["https", "http"]
        },
        {
          "type": "radiogroup",
          "name": "senec_language",
          "title": {
            "de": "Sprache",
            "default": "Language"
          },
          "defaultValue": "de",
          "isRequired": true,
          "choices": [
            {
              "value": "de",
              "text": {
                "de": "Deutsch",
                "default": "German"
              }
            },
            {
              "value": "en",
              "text": {
                "de": "Englisch",
                "default": "English"
              }
            },
            {
              "value": "it",
              "text": {
                "de": "Italienisch",
                "default": "Italian"
              }
            }
          ]
        }
      ],
      "visibleIf": "{battery_vendor} = 'senec3' and {distributed_choice} <> 'cloud' and {installation_type} <> 'cloud'",
      "title": {
        "de": "Direktzugriff auf SENEC-Stromspeicher",
        "default": "Access to your SENEC battery"
      }
    },
    {
      "name": "p_senec4",
      "elements": [
        {
          "type": "text",
          "name": "senec_username",
          "title": {
            "de": "E-Mail-Adresse",
            "default": "You email address"
          },
          "description": {
            "de": "Das ist die Adresse, mit der du dich bei mein-senec.de bzw. der SENEC-App einloggst",
            "default": "This is the address you use to log in to mein-senec.de or the SENEC app"
          },
          "isRequired": true,
          "inputType": "email"
        },
        {
          "type": "text",
          "name": "senec_password",
          "title": {
            "de": "Dazugehöriges Passwort",
            "default": "Corresponding password"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "senec_system_id",
          "title": {
            "de": "System-ID",
            "default": "System id"
          },
          "description": {
            "de": "Leer lassen, falls nicht bekannt oder wenn du nur einen Speicher hast, der auch noch nie ausgetauscht wurde.",
            "default": "Leave empty if not known or if you only have one battery that has never been replaced."
          }
        },
        {
          "type": "text",
          "name": "senec_interval_cloud",
          "title": {
            "de": "Abfrageintervall",
            "default": "Query interval"
          },
          "description": {
            "de": "in Sekunden",
            "default": "In seconds"
          },
          "defaultValue": 60,
          "isRequired": true,
          "inputType": "number",
          "min": 30
        }
      ],
      "visibleIf": "{battery_vendor} = 'senec4' or {installation_type} = 'cloud' and {battery_vendor} = 'senec3'",
      "title": {
        "de": "Zugangsdaten für SENEC",
        "default": "Credentials for SENEC"
      }
    },
    {
      "name": "p_shelly",
      "elements": [
        {
          "type": "text",
          "name": "shelly_host",
          "title": {
            "de": "Lokale IP-Adresse oder Hostname",
            "default": "Local IP address or host name"
          }
        },
        {
          "type": "text",
          "name": "shelly_interval",
          "title": {
            "de": "Abfrage-Intervall",
            "default": "Query interval"
          },
          "defaultValue": 5,
          "inputType": "number"
        }
      ],
      "visibleIf": "(({heatpump_access} = 'shelly') and ({distributed_choice} != 'cloud')) and ({installation_type} != 'cloud')",
      "title": {
        "de": "Zugriff auf Shelly-Stromzähler",
        "default": "Access to Shelly energy monitor"
      }
    },
    {
      "name": "p_mqtt",
      "elements": [
        {
          "type": "text",
          "name": "mqtt_inverter_power",
          "visibleIf": "{devices} contains 'inverter'",
          "title": {
            "de": "Erzeugung",
            "default": "Invertert power"
          },
          "description": "in Watt"
        },
        {
          "type": "text",
          "name": "mqtt_house_power",
          "title": {
            "de": "Hausverbrauch",
            "default": "House power"
          },
          "description": "in Watt"
        },
        {
          "type": "text",
          "name": "mqtt_grid_power_import",
          "title": {
            "de": "Netzbezug",
            "default": "Grid power import"
          },
          "description": "in Watt"
        },
        {
          "type": "text",
          "name": "mqtt_grid_power_export",
          "visibleIf": "{devices} contains 'inverter'",
          "title": {
            "de": "Netzeinspeisung",
            "default": "Grid power export"
          },
          "description": "in Watt"
        },
        {
          "type": "text",
          "name": "mqtt_battery_charging_power",
          "visibleIf": "{devices} contains 'battery'",
          "title": {
            "de": "Batteriebeladung",
            "default": "Battery charging power"
          },
          "description": "in Watt"
        },
        {
          "type": "text",
          "name": "mqtt_battery_discharging_power",
          "visibleIf": "{devices} contains 'battery'",
          "title": {
            "de": "Batterieentladung",
            "default": "Battery discharging power"
          },
          "description": "in Watt"
        },
        {
          "type": "text",
          "name": "battery_soc",
          "visibleIf": "{devices} contains 'battery'",
          "title": {
            "de": "Batterie-Ladestand",
            "default": "Battery SOC"
          },
          "description": "in %"
        },
        {
          "type": "text",
          "name": "mqtt_wallbox_power",
          "visibleIf": "{devices} contains 'wallbox' and {battery_vendor} = 'other'",
          "title": {
            "de": "Wallbox",
            "default": "Wallbox power"
          },
          "description": "in Watt"
        },
        {
          "type": "text",
          "name": "mqtt_case_temp",
          "visibleIf": "{devices} contains 'inverter'",
          "title": {
            "de": "Gehäusetemperatur",
            "default": "Case temperatur"
          },
          "description": "in °C"
        },
        {
          "type": "text",
          "name": "mqtt_system_status",
          "visibleIf": "{devices} contains 'inverter'",
          "title": {
            "de": "Systemstatus",
            "default": "System status"
          },
          "description": {
            "de": "als Text",
            "default": "as Text"
          }
        },
        {
          "type": "text",
          "name": "mqtt_system_status_ok",
          "visibleIf": "{devices} contains 'inverter'",
          "title": {
            "de": "Systemstatus ist OK",
            "default": "System status is ok"
          },
          "description": {
            "de": "als Boolscher Wert (Ja/Nein)",
            "default": "as Boolean"
          }
        },
        {
          "type": "text",
          "name": "mqtt_grid_export_limit",
          "visibleIf": "{devices} contains 'inverter'",
          "title": {
            "de": "Einspeisebegrenzung",
            "default": "Grid export limit"
          },
          "description": "in %"
        },
        {
          "type": "text",
          "name": "mqtt_heatpump",
          "visibleIf": "{devices} contains 'heatpump'",
          "title": {
            "de": "Wärmepumpe",
            "default": "Heatpump"
          },
          "description": "in Watt"
        }
      ],
      "visibleIf": "{battery_vendor} = 'other' or {wallbox_vendor} = 'other' or {heatpump_access} = 'mqtt'",
      "title": {
        "de": "MQTT-Topics"
      }
    },
    {
      "name": "p_forecast",
      "elements": [
        {
          "type": "boolean",
          "name": "forecast",
          "visibleIf": "{distributed_choice} <> 'local'",
          "title": {
            "de": "Möchtest du eine Prognose des PV-Ertrages?",
            "default": "Would you like a forecast of the PV yield?"
          },
          "description": {
            "de": "Die Prognose erfolgt kostenfrei für deinen Standort über forecast.solar",
            "default": "The forecast is provided free of charge for your location via forecast.solar"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "forecast_latitude",
          "visibleIf": "{forecast} = true",
          "title": {
            "default": "Latitude",
            "de": "Breitengrad"
          },
          "description": {
            "de": "-90 (Süd) bis 90 (Nord)",
            "default": "-90 (South) to 90 (North)"
          },
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "text",
          "name": "forecast_longitude",
          "visibleIf": "{forecast} = true",
          "title": {
            "default": "Longitude",
            "de": "Längengrad"
          },
          "description": {
            "de": "-180 (West) bis 180 (Ost)",
            "default": "-180 (West) to 180 (East)"
          },
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "radiogroup",
          "name": "forecast_roofs",
          "visibleIf": "{forecast} = true",
          "title": {
            "de": "Wieviele Flächen mit Solarmodulen gibt es bei dir?",
            "default": "How many planes do you have with solar modules?"
          },
          "defaultValue": "one",
          "choices": ["1", "2", "3", "4"]
        }
      ],
      "visibleIf": "{devices} contains 'inverter'",
      "title": {
        "de": "Ertragsvorhersage",
        "default": "Yield forecast"
      }
    },
    {
      "name": "p_forecast_roofs",
      "elements": [
        {
          "type": "text",
          "name": "forecast_azimuth",
          "title": {
            "default": "Azimuth",
            "de": "Ausrichtung"
          },
          "description": {
            "de": "-180 … 180 (-180 = Nord, -90 = Ost, 0 = Süd, 90 = West, 180 = Nord)",
            "default": "-180 ... 180 (-180 = north, -90 = east, 0 = south, 90 = west, 180 = north)"
          },
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "text",
          "name": "forecast_declination",
          "title": {
            "de": "Dachneigung",
            "default": "Roof declination"
          },
          "description": {
            "de": "0 (horizontal) bis 90 (Vertikal)",
            "default": "0 (horizontal) to 90 (vertical)"
          },
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "text",
          "name": "forecast_kwp",
          "title": {
            "de": "Maximal-Leistung",
            "default": "Maximum power"
          },
          "description": "in kWp",
          "isRequired": true,
          "inputType": "number"
        }
      ],
      "visibleIf": "{forecast} = true",
      "title": {
        "default": "Location of the PV system",
        "de": "Ertragsvorhersage: Dachflächen"
      },
      "description": {
        "de": "Erforderlich für die Ertragsvorhersage",
        "default": "Required for the yield forecast"
      }
    },
    {
      "name": "p_backup",
      "elements": [
        {
          "type": "boolean",
          "name": "backup",
          "visibleIf": "{distributed_choice} <> 'local'",
          "title": {
            "de": "Hast du einen Account bei AWS und möchtest die Datenbanken automatisch dorthin sichern?",
            "default": "Do you have an account at AWS and want to back up the databases there automatically?"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "aws_access_key_id",
          "visibleIf": "{backup} = true",
          "title": "Access Key ID",
          "isRequired": true
        },
        {
          "type": "text",
          "name": "aws_secret_access_key",
          "visibleIf": "{backup} = true",
          "title": "Secret Access Key",
          "isRequired": true
        },
        {
          "type": "text",
          "name": "aws_region",
          "visibleIf": "{backup} = true",
          "title": "Region",
          "isRequired": true
        },
        {
          "type": "text",
          "name": "aws_bucket",
          "visibleIf": "{backup} = true",
          "title": "Bucket",
          "isRequired": true
        }
      ],
      "title": {
        "de": "Backup auf Amazon S3",
        "default": "Backup to Amazon S3"
      }
    },
    {
      "name": "p_traefik",
      "elements": [
        {
          "type": "boolean",
          "name": "traefik",
          "title": {
            "de": "Möchtest du eine eigene Domain oder Subdomain nutzen?",
            "default": "Do you have your own domain or subdomain?"
          },
          "description": {
            "de": "Dies ermöglicht die Nutzung von https und Let’s Encrypt-Zertifikat",
            "default": "This enables encryption with https and Let's Encrypt certificate"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "app_domain",
          "visibleIf": "{traefik} = true",
          "title": {
            "de": "Wie lautet deine Domain oder Subdomain?",
            "default": "What is your domain or subdomain?"
          },
          "description": {
            "de": "Beispiele: meine-domain.de oder solectrus.meine-domain.de",
            "default": "Examples: my-domain.com or solectrus.my-domain.com"
          },
          "isRequired": true
        }
      ],
      "visibleIf": "{installation_type} = 'cloud' or {distributed_choice} = 'cloud'",
      "title": {
        "de": "Domain mit https",
        "default": "Domain with https"
      }
    },
    {
      "name": "p_dashboard",
      "elements": [
        {
          "type": "text",
          "name": "installation_date",
          "title": {
            "de": "Inbetriebnahme deiner PV-Anlage",
            "default": "Commissioning of your PV system"
          },
          "description": {
            "de": "Datum der Installation, wird für die Auswahl von Zeiträumen benötigt",
            "default": "Date of installation"
          },
          "isRequired": true,
          "inputType": "date",
          "maxValueExpression": "today()"
        },
        {
          "type": "text",
          "name": "admin_password",
          "title": {
            "de": "Administrator-Passwort",
            "default": "Administrator password"
          },
          "description": {
            "de": "Nur der Admin kann Einstellungen und Strompreise bearbeiten",
            "default": "Only the admin can edit settings and electricity prices"
          },
          "isRequired": true
        }
      ],
      "visibleIf": "{installation_type} anyof ['local', 'cloud'] or {distributed_choice} = 'cloud'",
      "title": "Dashboard"
    }
  ],
  "showCompletedPage": false,
  "showQuestionNumbers": "off",
  "questionErrorLocation": "bottom"
}

{
  "locale": "de",
  "title": {
    "de": "Konfigurator",
    "default": "SOLECTRUS configurator"
  },
  "description": {
    "de": "In einfachen Schritten zur Docker-Konfiguration",
    "default": "Create your SOLECTRUS installation step-by-step"
  },
  "logoWidth": "100px",
  "logoHeight": "100px",
  "logoPosition": "right",
  "pages": [
    {
      "name": "p_devices",
      "elements": [
        {
          "type": "checkbox",
          "name": "q_devices",
          "title": {
            "de": "Welche Geräte gehören zu deiner Photovoltaik-Anlage?",
            "default": "What appliances do you have in your home?"
          },
          "defaultValue": ["battery"],
          "isRequired": true,
          "validators": [
            {
              "type": "expression",
              "text": {
                "default": "You can't do it without a battery!",
                "de": "Ohne Stromspeicher geht's nicht!"
              },
              "expression": "{q_devices} contains 'battery'"
            }
          ],
          "choices": [
            {
              "value": "battery",
              "text": {
                "de": "Stromspeicher",
                "default": "Battery"
              }
            },
            {
              "value": "wallbox",
              "text": "Wallbox"
            },
            {
              "value": "heatpump",
              "text": {
                "de": "Wärmepumpe",
                "default": "Heat pump"
              }
            }
          ]
        }
      ],
      "title": {
        "de": "Photovoltaik-Anlage",
        "default": "Devices"
      }
    },
    {
      "name": "p_vendor_battery",
      "elements": [
        {
          "type": "radiogroup",
          "name": "battery_vendor",
          "visibleIf": "{q_devices} contains 'battery'",
          "title": {
            "de": "Welchen Stromspeicher hast du?",
            "default": "Which manufacturer is your storage system from?"
          },
          "isRequired": true,
          "choices": [
            {
              "value": "battery_senec3",
              "text": {
                "default": "SENEC.Home V3 or V2.1",
                "de": "SENEC.Home V3 oder v2.1"
              }
            },
            {
              "value": "battery_senec4",
              "text": "SENEC.Home 4"
            },
            {
              "value": "battery_other",
              "text": {
                "de": "Anderer",
                "default": "Other"
              }
            }
          ],
          "separateSpecialChoices": true,
          "otherText": {
            "de": "Sonstiges",
            "default": "Other"
          }
        }
      ],
      "title": {
        "de": "Stromspeicher",
        "default": "Battery vendor"
      }
    },
    {
      "name": "p_heatpump_connection",
      "elements": [
        {
          "type": "radiogroup",
          "name": "heatpump_access",
          "visibleIf": "{q_devices} contains 'heatpump'",
          "title": {
            "de": "Wie wird der Stromverbrauch der Wärmepumpe gemessen?",
            "default": "How is the electricity consumption of the heat pump measured?"
          },
          "isRequired": true,
          "choices": [
            {
              "value": "heatpump_shelly",
              "text": {
                "de": "Über einen Shelly",
                "default": "Using Shelly"
              }
            },
            {
              "value": "heatpump_mqtt",
              "text": {
                "de": "Über MQTT",
                "default": "Via MQTT"
              }
            }
          ]
        }
      ],
      "title": {
        "de": "Wärmepumpe",
        "default": "Integration of heat pump"
      }
    },
    {
      "name": "p_vendor_wallbox",
      "elements": [
        {
          "type": "radiogroup",
          "name": "wallbox_vendor",
          "visibleIf": "{q_devices} contains 'wallbox'",
          "title": {
            "de": "Von welchem Hersteller ist deine Wallbox?",
            "default": "Which manufacturer is your wallbox from?"
          },
          "isRequired": true,
          "choices": [
            {
              "value": "wallbox_senec",
              "text": {
                "de": "SENEC (gesteuert vom Stromspeicher)",
                "default": "SENEC (controlled by the battery)"
              }
            },
            {
              "value": "wallbox_other",
              "text": {
                "default": "Other",
                "de": "Anderer"
              }
            }
          ]
        }
      ],
      "title": {
        "de": "Wallbox",
        "default": "Vendor Wallbox"
      }
    },
    {
      "name": "p_mode",
      "elements": [
        {
          "type": "radiogroup",
          "name": "installation_type",
          "title": {
            "de": "Wie möchtest du SOLECTRUS betreiben?",
            "default": "How would you like to operate SOLECTRUS?"
          },
          "isRequired": true,
          "choices": [
            {
              "value": "local",
              "text": {
                "de": "Lokal: Alle Komponenten auf einem Raspberry, NAS etc.",
                "default": "Local: All components on a Raspberry, NAS etc."
              }
            },
            {
              "value": "cloud",
              "text": {
                "de": "Cloud: Alle Komponenten auf einem Cloud-Server",
                "default": "Cloud: All components on a cloud server"
              },
              "enableIf": "{battery_vendor} <> 'battery_other' and {wallbox_vendor} <> 'wallbox_other' and {q_devices} notcontains 'heatpump'"
            },
            {
              "value": "distributed",
              "text": {
                "de": "Verteilt: Lokale Messwerterfassung, Server in der Cloud",
                "default": "Distributed: Local measurement, server in the cloud"
              },
              "enableIf": "{battery_vendor} anyof ['battery_other', 'battery_senec3'] or {wallbox_vendor} = 'wallbox_other' and {q_devices} contains 'heatpump'"
            }
          ]
        }
      ],
      "title": {
        "de": "Betriebsart",
        "default": "SOLECTRUS operating mode"
      }
    },
    {
      "name": "p_distributed_installation",
      "elements": [
        {
          "type": "radiogroup",
          "name": "q_distributed_choice",
          "title": {
            "de": "Welchen Teil der Installation möchtest du jetzt angehen?"
          },
          "description": {
            "de": "Es sind zwei Installationen erforderlich. Welchen Teil erledigen wir jetzt?"
          },
          "choices": [
            {
              "value": "local",
              "text": {
                "de": "Die lokale Installation auf Raspberry Pi, NAS etc."
              }
            },
            {
              "value": "cloud",
              "text": {
                "de": "Die Installation auf dem Cloud-Server"
              }
            }
          ]
        }
      ],
      "visibleIf": "{installation_type} = 'distributed'",
      "title": {
        "de": "Verteile Installation"
      }
    },
    {
      "name": "p_senec3_access",
      "elements": [
        {
          "type": "text",
          "name": "senec_host",
          "title": {
            "de": "IP-Adresse oder Hostname",
            "default": "IP address or host name"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "senec_interval",
          "title": {
            "de": "Abfrage-Intervall",
            "default": "Query interval"
          },
          "description": {
            "de": "in Sekunden",
            "default": "in seconds"
          },
          "defaultValue": 5,
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "radiogroup",
          "name": "senec_schema",
          "title": {
            "de": "Zugriffsprotokoll",
            "default": "Protocol schema"
          },
          "defaultValue": "https",
          "isRequired": true,
          "choices": ["https", "http"]
        },
        {
          "type": "radiogroup",
          "name": "senec_language",
          "title": {
            "de": "Sprache",
            "default": "Language"
          },
          "defaultValue": "de",
          "isRequired": true,
          "choices": [
            {
              "value": "de",
              "text": {
                "de": "Deutsch",
                "default": "German"
              }
            },
            {
              "value": "en",
              "text": {
                "de": "Englisch",
                "default": "English"
              }
            },
            {
              "value": "it",
              "text": {
                "de": "Italienisch",
                "default": "Italian"
              }
            }
          ]
        }
      ],
      "visibleIf": "{battery_vendor} = 'battery_senec3' and {q_distributed_choice} <> 'cloud'",
      "title": {
        "de": "Zugriff auf SENEC-Stromspeicher",
        "default": "Access to your SENEC battery"
      }
    },
    {
      "name": "p_senec4_access",
      "elements": [
        {
          "type": "text",
          "name": "senec_username",
          "title": {
            "de": "E-Mail-Adresse",
            "default": "You email address"
          },
          "description": {
            "de": "Das ist die Adresse, mit der du dich bei mein-senec.de bzw. der SENEC-App einloggst",
            "default": "This is the address you use to log in to mein-senec.de or the SENEC app"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "senec_password",
          "title": {
            "de": "Dazugehöriges Passwort",
            "default": "Corresponding password"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "senec_system_id",
          "title": {
            "de": "System-ID",
            "default": "System id"
          },
          "description": {
            "de": "Leer lassen, falls nicht bekannt oder wenn du nur einen Speicher hast, der auch noch nie ausgetauscht wurde.",
            "default": "Leave empty if not known or if you only have one battery that has never been replaced."
          }
        },
        {
          "type": "text",
          "name": "senec_interval_cloud",
          "title": {
            "de": "Abfrageintervall",
            "default": "Query interval"
          },
          "description": {
            "de": "in Sekunden",
            "default": "In seconds"
          },
          "defaultValue": 60,
          "isRequired": true,
          "inputType": "number",
          "min": 30
        }
      ],
      "visibleIf": "{battery_vendor} = 'battery_senec4'",
      "title": {
        "de": "Zugangsdaten für SENEC Home.4",
        "default": "Credentials for SENEC Home.4"
      }
    },
    {
      "name": "q_shelly",
      "elements": [
        {
          "type": "text",
          "name": "shelly_host",
          "title": {
            "de": "IP-Adresse oder Hostname"
          }
        },
        {
          "type": "text",
          "name": "shelly_interval",
          "title": {
            "de": "Abfrage-Intervall"
          },
          "defaultValue": 5,
          "inputType": "number"
        }
      ],
      "visibleIf": "{heatpump_access} = 'heatpump_shelly' and {q_distributed_choice} <> 'cloud' and {installation_type} <> 'cloud'",
      "title": {
        "de": "Zugriff auf Shelly-Stromzähler"
      }
    },
    {
      "name": "p_forecast",
      "elements": [
        {
          "type": "boolean",
          "name": "q_forecast",
          "visibleIf": "{q_distributed_choice} <> 'local'",
          "title": {
            "de": "Möchtest du eine Vorhersage des PV-Ertrages?",
            "default": "Would you like a yield forecast via forecast.solar?"
          },
          "description": {
            "de": "Die Prognose erfolgt über den Anbieter forecast.solar"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "forecast_latitude",
          "visibleIf": "{q_forecast} = true",
          "title": {
            "default": "Latitude",
            "de": "Breitengrad"
          },
          "description": {
            "de": "-90 (Süd) bis 90 (Nord)",
            "default": "-90 (South) to 90 (North)"
          },
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "text",
          "name": "forecast_longitude",
          "visibleIf": "{q_forecast} = true",
          "title": {
            "default": "Longitude",
            "de": "Längengrad"
          },
          "description": {
            "de": "-180 (West) bis 180 (Ost)",
            "default": "-180 (West) to 180 (East)"
          },
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "radiogroup",
          "name": "q_forecast_roofs",
          "visibleIf": "{q_forecast} = true",
          "title": {
            "de": "Wieviele Dachflächen gibt es auf dem Haus?",
            "default": "How many roof surfaces do you have?"
          },
          "defaultValue": "one",
          "choices": [
            {
              "value": "one",
              "text": "1"
            },
            {
              "value": "two",
              "text": "2"
            },
            {
              "value": "three",
              "text": "3"
            },
            {
              "value": "four",
              "text": "4"
            }
          ]
        }
      ],
      "title": {
        "de": "Ertragsvorhersage",
        "default": "Yield forecast"
      }
    },
    {
      "name": "p_location",
      "elements": [
        {
          "type": "text",
          "name": "forecast_azimuth",
          "title": {
            "default": "Azimuth",
            "de": "Ausrichtung"
          },
          "description": {
            "de": "-180 … 180 (-180 = Nord, -90 = Ost, 0 = Süd, 90 = West, 180 = Nord)",
            "default": "-180 ... 180 (-180 = north, -90 = east, 0 = south, 90 = west, 180 = north)"
          },
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "text",
          "name": "forecast_declination",
          "title": {
            "de": "Dachneigung",
            "default": "Roof declination"
          },
          "description": {
            "de": "0 (horizontal) bis 90 (Vertikal)",
            "default": "0 (horizontal) to 90 (vertical)"
          },
          "isRequired": true,
          "inputType": "number"
        },
        {
          "type": "text",
          "name": "forecast_kwp",
          "title": {
            "de": "Maximal-Leistung",
            "default": "Maximum power"
          },
          "description": "in kWp",
          "isRequired": true,
          "inputType": "number"
        }
      ],
      "visibleIf": "{q_forecast} = true",
      "title": {
        "default": "Location of the PV system",
        "de": "Ertragsvorhersage: Dachflächen"
      },
      "description": {
        "de": "Erforderlich für die Ertragsvorhersage",
        "default": "Required for the yield forecast"
      }
    },
    {
      "name": "p_updates",
      "elements": [
        {
          "type": "boolean",
          "name": "q_updates",
          "title": {
            "de": "Möchtest du automatische Updates aktivieren?",
            "default": "Would you like to activate automatic updates?"
          },
          "isRequired": true
        }
      ],
      "title": {
        "de": "Automatische Updates",
        "default": "Automatic updates"
      }
    },
    {
      "name": "p_backup",
      "elements": [
        {
          "type": "boolean",
          "name": "q_backup",
          "visibleIf": "{q_distributed_choice} <> 'local'",
          "title": {
            "de": "Hast du einen Account bei AWS und möchtest die Datenbanken automatisch dorthin sichern?",
            "default": "Do you have an account at AWS and want to back up the databases there automatically?"
          },
          "isRequired": true
        },
        {
          "type": "text",
          "name": "s3_access_key",
          "visibleIf": "{q_backup} = true",
          "title": "Access Key ID",
          "isRequired": true
        },
        {
          "type": "text",
          "name": "s3_secret_access_key",
          "visibleIf": "{q_backup} = true",
          "title": "Secret Access Key",
          "isRequired": true
        },
        {
          "type": "text",
          "name": "s3_region",
          "visibleIf": "{q_backup} = true",
          "title": "Region",
          "isRequired": true
        },
        {
          "type": "text",
          "name": "s3_bucket",
          "visibleIf": "{q_backup} = true",
          "title": "Bucket",
          "isRequired": true
        }
      ],
      "title": {
        "de": "Backup auf Amazon S3",
        "default": "Backup to Amazon S3"
      }
    },
    {
      "name": "p_dashboard",
      "elements": [
        {
          "type": "text",
          "name": "q_installation_date",
          "title": {
            "de": "Inbetriebnahme deiner PV-Anlage",
            "default": "Commissioning of your PV system"
          },
          "description": {
            "de": "Datum der Installation, wird für die Auswahl von Zeiträumen benötigt",
            "default": "Date of installation"
          },
          "isRequired": true,
          "inputType": "date",
          "maxValueExpression": "today()"
        },
        {
          "type": "text",
          "name": "question1",
          "title": {
            "de": "Administrator-Passwort",
            "default": "Administrator password"
          },
          "description": {
            "de": "Nur der Admin kann Einstellungen und Strompreise bearbeiten",
            "default": "Only the admin can edit settings and electricity prices"
          }
        }
      ],
      "title": "Dashboard"
    }
  ],
  "showCompletedPage": false,
  "showQuestionNumbers": "off",
  "questionErrorLocation": "bottom"
}
